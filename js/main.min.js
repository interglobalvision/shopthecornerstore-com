Site={mobilethreshold:601,init:function(){var i=this;$(window).resize(function(){i.onResize()}),$(document).ready(function(){$("#splash-video").length?$("#splash-video").coverVid(1920,1080).addClass("show"):$(".splash-swiper").length&&i.Splash.init(),$("body").hasClass("blog")&&(i.Journal.init(),$(window).bind("resizeEnd",function(){i.Journal.masonryLayout()})),$("body").hasClass("single-editorial")&&i.Editorial.Single.init(),$("body").hasClass("post-type-archive-editorial")&&i.Editorial.Archive.init(),$("body").hasClass("woocommerce")&&i.Shop.init(),i.bindMenuToggle(),$(".newsletter-form").length&&null!==WP.mailchimp&&i.Mailchimp.init(),i.Popup.init()})},onResize:function(){var i=this;i.resizeDelay()},resizeDelay:function(){var i;clearTimeout(i),i=setTimeout(function(){$(window).trigger("resizeEnd")},500)},fixWidows:function(){$(".js-fix-widows").each(function(){var i=$(this).html();i=i.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(i)})},bindMenuToggle:function(){$("#toggle-menu").on("click",function(){$("body").toggleClass("mobile-menu-active")})}},Site.Popup={init:function(){var i=this,e=Cookies.get("popup")||!0;e?(i.bindClose(),setTimeout(i.showPopup,2e3)):$(".popup-wrapper").remove()},bindClose:function(){var i=this;$("#close-popup").on("click",i.closePopup)},showPopup:function(){$("body").addClass("show-popup")},closePopup:function(){$("body").removeClass("show-popup")}},Site.Shop={init:function(){var i=this;this.Search.init(),$("body").hasClass("single-product")&&i.Product.init(),$("#products")&&i.ToggleProducts.init()},ToggleProducts:{init:function(){$(".toggle-sold").length&&$(".toggle-sold").on("click",function(i){i.preventDefault(),$("body").hasClass("hidden-products")?($("body").removeClass("hidden-products"),$(".outofstock").fadeIn(300)):$(".outofstock").fadeOut(300,function(){$("body").addClass("hidden-products")})})}},Search:{init:function(){var i=this;$("#searchform").length&&($("#s").val()||$("#searchform").addClass("active"),i.bindFocus(),i.bindFocusOut())},bindFocus:function(){$("#searchform").on("click",function(i){$(this).hasClass("active")||(i.preventDefault(),$(this).addClass("active"),$("#s").focus())})},bindFocusOut:function(){$("#s").on("focusout",function(){$(this).val()||$("#searchform").removeClass("active")})}},Product:{init:function(){var i=this;$(".swiper-container").length&&i.initSwiper()},initSwiper:function(){var i=this;i.$sliderPrev=$(".slider-prev"),i.$sliderNext=$(".slider-next"),i.swiper=new Swiper(".swiper-container",{speed:800,spaceBetween:36,setWrapperSize:!0,onInit:function(){$(".swiper-container").css("visibility","visible")}}),i.bindPagination()},bindPagination:function(){var i=this;i.$sliderPrev.on("click",function(e){var t=$(this).attr("href");i.swiper.isBeginning&&"undefined"!=typeof t&&0!=t||(e.preventDefault(),i.swiper.slidePrev())}),i.$sliderNext.on("click",function(e){var t=$(this).attr("href");i.swiper.isEnd&&"undefined"!=typeof t&&0!=t||(e.preventDefault(),i.swiper.slideNext())})}}},Site.Journal={init:function(){$("#journal-container").length&&($("#journal-container").masonry({itemSelector:".journal-post",transitionDuration:0}),$("#journal-container").imagesLoaded().progress(function(){$("#journal-container").masonry("layout")}))},masonryLayout:function(){$("#journal-container").length&&$("#journal-container").masonry("layout")}},Site.Splash={init:function(){var i=this;i.swiper=new Swiper(".swiper-container",{autoplay:3e3,loop:!0,speed:1500,effect:"fade",fade:{crossFade:!1}})}},Site.Editorial={Single:{init:function(){var i=this;new Swiper(".swiper-container",{loop:!1,speed:800,spaceBetween:36,nextButton:".slider-next",prevButton:".slider-prev",setWrapperSize:!0,onInit:function(e){$(".swiper-container").css("visibility","visible"),i.updateProductDetails(e)},onSlideChangeStart:function(e){i.updateProductDetails(e),e.isBeginning?($(".slider-prev").hide(),$(".slider-next").show()):e.isEnd?($(".slider-prev").show(),$(".slider-next").hide()):($(".slider-prev").show(),$(".slider-next").show())}})},updateProductDetails:function(i){if($(".swiper-slide-active").attr("data-product-1")||$(".swiper-slide-active").attr("data-product-2"))for(var e=1;e<3;e++)if($(".swiper-slide-active").attr("data-product-"+e)){var t=JSON.parse($(".swiper-slide-active").attr("data-product-"+e));$(".slider-product-"+e+"-details .js-product-title").html(t.title).attr("href",t.url),$(".slider-product-"+e+"-details .js-product-content").html(t.content),$(".slider-product-"+e+"-details .js-product-price").html(t.price),$(".slider-product-"+e+"-details .js-product-attributes").html(t.attributes),t.stock?($(".slider-product-"+e+"-details .js-product-button").html(t.button_text).removeClass("u-hidden"),$(".slider-product-"+e+"-details .js-product-id").attr("value",t.id),$(".slider-product-"+e+"-details .js-product-sold").addClass("u-hidden")):($(".slider-product-"+e+"-details .js-product-sold").removeClass("u-hidden").html(t.availability.availability),$(".slider-product-"+e+"-details .js-product-button").addClass("u-hidden")),$(".slider-product-"+e+"-details").show(),$(".slider-credits").hide()}else $(".slider-product-"+e+"-details, .slider-credits").hide();else i.isEnd?($(".slider-product-details").hide(),$(".slider-credits").show()):$(".slider-product-details").hide()}},Archive:{init:function(){var i=this;$(".archive-title").on("mouseover",function(){i.showImage($(this).attr("data-id"))})},showImage:function(i){$(".archive-editorial-image").hide(),$(".archive-editorial-image[data-id="+i+"]").show()}}},Site.Mailchimp={$form:$(".newsletter-form"),init:function(){var i=this;i.successCallback=i.successCallback.bind(i),i.$form.submit(function(e){e.preventDefault();var t=$(this).children(".newsletter-email").val();i.$reply=$(this).children(".newsletter-reply"),i.subscribe(t)})},subscribe:function(i){var e=this,t=WP.mailchimp.replace("/post?","/post-json?").concat("&c=?");$.ajax({url:t,data:{EMAIL:i},success:e.successCallback,dataType:"jsonp",error:function(i,e){console.log("mailchimp ajax submit error: "+e)}})},successCallback:function(i){var e=this,t="";if("success"===i.result)t="You've been successfully subscribed";else{var s=-1;try{var o=i.msg.split(" - ",2);if(void 0===o[1])t=i.msg;else{var n=parseInt(o[0],10);n.toString()===o[0]?(s=o[0],t=o[1]):(s=-1,t=i.msg)}}catch(r){s=-1,t=i.msg}}e.$reply.html(t)}},Site.init();
//# sourceMappingURL=/main.min.js.map